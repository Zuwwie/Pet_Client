/* ========== CandyShop / Catalog ========== */

/* ---- Utils ---- */
.error { color:#b91c1c; }
.muted { color:#64748b; }

/* =========================================
   GRID: product cards (1/2/4/5/6 columns)
========================================= */
.products-grid{
    display:grid;
    gap:12px;
    grid-template-columns:repeat(1,minmax(0,1fr));
}
@media (min-width:768px){  .products-grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1024px){ .products-grid{ grid-template-columns:repeat(4,minmax(0,1fr)); } }
@media (min-width:1280px){ .products-grid{ grid-template-columns:repeat(5,minmax(0,1fr)); } }
@media (min-width:1536px){ .products-grid{ grid-template-columns:repeat(6,minmax(0,1fr)); } }

/* =========================================
   CARD view
========================================= */
.product-card{
    border-radius:12px;
    background:#fff;
    padding:clamp(10px,1.2vw,14px);
    overflow:hidden;
    box-shadow:0 0 0 1px #e5e7eb inset, 0 1px 2px rgba(15,23,42,.04);
    display:flex; flex-direction:column; min-height:100%;
    --media-ratio: 4/3;
    --media-min: clamp(120px,18vw,170px);
}

.product-media{
    aspect-ratio:var(--media-ratio);
    min-height:var(--media-min);
    padding:clamp(8px,1vw,12px);
    background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px;
    margin-bottom:clamp(8px,1.2vw,12px);
    display:flex; align-items:center; justify-content:center; overflow:hidden;
}
.product-media img{ width:100%; height:100%; object-fit:contain; display:block; }
.product-media .ph{ width:56px; height:56px; opacity:.55; }

.product-header{
    display:grid; grid-template-columns:1fr auto; align-items:start; gap:6px 10px; margin-bottom:6px;
}
.product-title{
    margin:0; font-size:clamp(16px,1.4vw,20px); font-weight:800; color:#0f172a; line-height:1.15; word-break:break-word; min-width:0;
}

/* availability badge on cards */
.badge-pill{
    background:#0f172a; color:#fff; padding:6px 12px; border-radius:999px;
    font-weight:800; font-size:12px; line-height:1; white-space:nowrap;
}

.kv{
    display:grid; grid-template-columns:1fr 1fr; column-gap:12px; row-gap:6px;
    margin:0 0 10px; font-size:clamp(12px,1.2vw,14px); line-height:1.2;
}
.kv .label{ color:#334155; } .kv .value{ color:#0f172a; font-weight:800; text-align:right; }

/* quantity controls (shared) */
.qty-controls{
    --ctrl: clamp(30px,4.2vw,40px);
    --gap:  clamp(6px,1.2vw,8px);
    --radius: clamp(8px,1.2vw,10px);
    display:grid; grid-template-columns: minmax(28px,var(--ctrl)) minmax(0,1fr) minmax(28px,var(--ctrl));
    gap:var(--gap); width:100%; max-width:100%; min-width:0;
}
.qty-btn{
    min-width:28px; height:var(--ctrl);
    display:inline-flex; align-items:center; justify-content:center;
    border:1px solid #e5e7eb; background:#fff; border-radius:var(--radius);
    font-size:clamp(16px,2.2vw,20px); line-height:1; cursor:pointer; user-select:none;
}
.qty-input{
    height:var(--ctrl); width:100%; min-width:0; text-align:center;
    border:1px solid #e5e7eb; border-radius:var(--radius);
    font-size:clamp(14px,1.6vw,16px); line-height:1; outline:none;
}
.qty-input::-webkit-outer-spin-button,
.qty-input::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
.qty-input[type="number"]{ -moz-appearance:textfield; }

.per-piece{
    text-align:center; color:#334155; margin:clamp(6px,1.2vw,10px) 0 clamp(8px,1.4vw,12px);
    font-weight:800; font-size:clamp(13px,1.3vw,15px); line-height:1.15;
}

.add-btn{
    margin-top:auto; width:100%; height:clamp(40px,5vw,48px);
    border:0; border-radius:clamp(10px,1.2vw,12px); cursor:pointer;
    background:#0f172a; color:#fff; font-size:clamp(14px,1.6vw,16px); font-weight:800;
    display:inline-flex; align-items:center; justify-content:center; gap:8px;
}

/* skeleton */
.sk{
    min-height:160px; border-radius:12px;
    background:linear-gradient(90deg,#f1f5f9 25%,#e2e8f0 37%,#f1f5f9 63%);
    background-size:400% 100%; animation:s 1.2s ease infinite;
}
@keyframes s{ 0%{background-position:100% 50%} 100%{background-position:0 50%} }

/* =========================================
   Catalog header + view toggle
========================================= */
.catalog-head{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    margin:10px 0 16px;
}
.catalog-title{ margin:0; font-size:28px; font-weight:800; }
.head-tools{ display:flex; align-items:center; gap:10px; }
.seg{ display:inline-flex; background:#fff; border:1px solid #e5e7eb; padding:4px; border-radius:12px; gap:4px; }
.seg-btn{ padding:8px 12px; border-radius:8px; font-weight:700; cursor:pointer; border:none; background:transparent; color:#0f172a; }
.seg-btn.is-active{ background:#0f172a; color:#fff; }

/* =========================================
   ROWS view (–∑–∞–≥–æ–ª–æ–≤–æ–∫ + —Ä—è–¥–∫–∏)
========================================= */
.catalog-rows{ display:flex; flex-direction:column; gap:10px; }

/* 9 –∫–æ–ª–æ–Ω–æ–∫: img | name | ‚Ç¥/–∫–≥ | ‚Ç¥/—à—Ç | qty | grams | total | avail | action */
.row-card{
    display:grid;
    grid-template-columns: 56px 1fr 120px 120px 150px 100px 120px 90px 160px;
    align-items:center; gap:12px;
    padding:10px; background:#fff; border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,.06);
}
.row-card:hover{ box-shadow:0 2px 6px rgba(0,0,0,.06); }
.row-media{
    width:56px; height:56px; border-radius:10px; overflow:hidden;
    background:#f6f7fb; display:grid; place-items:center; border:1px solid #e5e7eb;
}
.row-media img{ width:100%; height:100%; object-fit:cover; }
.row-ph{ font-size:28px; opacity:.55; }

.row-name{ font-weight:800; }
.row-sub{ color:#6b7280; font-size:14px; display:flex; align-items:center; gap:6px; }
.row-sub .dot{ opacity:.5; }

.row-col{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.row-col--pricekg, .row-col--pricepc, .row-col--total{ text-align:right; font-variant-numeric:tabular-nums; }
.row-col--avail{ text-align:center; }
.row-col--act{ justify-self:end; min-width:160px; }

/* header row (labels) */
.row-head{ background:transparent; box-shadow:none; font-weight:700; padding:0 10px 6px; }
.row-head .row-media{ visibility:hidden; }

/* availability pill */
.avail-pill{
    display:inline-flex; align-items:center; justify-content:center;
    padding:6px 12px; min-width:48px; height:28px; line-height:1;
    border-radius:999px; font-size:13px; font-weight:800; letter-spacing:.01em;
}
.avail-pill.ok  { background:#dcfce7; color:#166534; box-shadow: inset 0 0 0 1px #bbf7d0; }
.avail-pill.bad { background:#fee2e2; color:#991b1b; box-shadow: inset 0 0 0 1px #fecaca; }

/* qty controls –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ä—è–¥–∫–∞ */
.row-col--qty .qty-controls{
    display:inline-flex; align-items:center; gap:6px;
}
.row-col--qty .qty-btn{ padding:6px 10px; border-radius:10px; border:1px solid #e5e7eb; background:#fff; }
.row-col--qty .qty-input{ width:60px; text-align:center; border:1px solid #e5e7eb; border-radius:10px; padding:6px 8px; }

/* —à–∏—Ä–æ–∫–∞ –∫–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏" –≤ –∫–æ–ª–æ–Ω—Ü—ñ –¥—ñ—ó */
.row-col--act .add-btn{ width:100%; min-height:40px; justify-content:center; }

/* –ø–æ–∑–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—é ‚Äî —Ç—Ä–æ—Ö–∏ –ø—Ä–∏–≥–ª—É—à–µ–Ω–∏–π —Ä—è–¥ */
.row-card.is-out{ box-shadow:0 1px 2px rgba(0,0,0,.04); }

/* ---- Responsive: –ø–æ—Å—Ç—É–ø–æ–≤–æ –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –º–µ–Ω—à –≤–∞–∂–ª–∏–≤—ñ –∫–æ–ª–æ–Ω–∫–∏ ---- */
@media (max-width:1100px){
    .row-col--pricekg, .row-head .row-col--pricekg{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 120px 150px 100px 120px 90px 160px; } /* ‚Äì ‚Ç¥/–∫–≥ */
}
@media (max-width:900px){
    .row-col--grams, .row-head .row-col--grams{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 120px 150px 120px 90px 160px; }      /* ‚Äì –≥—Ä–∞–º */
}
@media (max-width:740px){
    .row-col--pricepc, .row-head .row-col--pricepc{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 150px 120px 90px 160px; }           /* ‚Äì ‚Ç¥/—à—Ç */
}
@media (max-width:620px){
    .row-col--total, .row-head .row-col--total{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 150px 90px 160px; }                 /* ‚Äì –°—É–º–∞ */
}

/* ---- Disabled states ---- */
.add-btn[disabled], .qty-btn:disabled{
    opacity:.55; cursor:not-allowed; filter:grayscale(0.1);
}
.qty-input:disabled{ opacity:.7; background:#f3f4f6; cursor:not-allowed; }

/* =========================================
   ROWS view (–∑–∞–≥–æ–ª–æ–≤–æ–∫ + —Ä—è–¥–∫–∏) ‚Äî –ë–ï–ó "–ù–∞—è–≤–Ω—ñ—Å—Ç—å"
========================================= */
.catalog-rows{ display:flex; flex-direction:column; gap:10px; }

/* 8 –∫–æ–ª–æ–Ω–æ–∫: img | name | ‚Ç¥/–∫–≥ | ‚Ç¥/—à—Ç | qty | grams | total | action */
.row-card{
    display:grid;
    grid-template-columns: 56px 1fr 120px 120px 150px 100px 120px 160px; /* –±–µ–∑ avail */
    align-items:center; gap:12px;
    padding:10px; background:#fff; border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,.06);
}
.row-card:hover{ box-shadow:0 2px 6px rgba(0,0,0,.06); }

.row-media{
    width:56px; height:56px; border-radius:10px; overflow:hidden;
    background:#f6f7fb; display:grid; place-items:center; border:1px solid #e5e7eb;
}
.row-media img{ width:100%; height:100%; object-fit:cover; }
.row-ph{ font-size:28px; opacity:.55; }

.row-name{ font-weight:800; }
.row-sub{ color:#6b7280; font-size:14px; display:flex; align-items:center; gap:6px; }
.row-sub .dot{ opacity:.5; }

.row-col{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.row-col--pricekg, .row-col--pricepc, .row-col--total{ text-align:right; font-variant-numeric:tabular-nums; }
.row-col--act{ justify-self:end; min-width:160px; }

/* header row (labels) */
.row-head{ background:transparent; box-shadow:none; font-weight:700; padding:0 10px 6px; }
.row-head .row-media{ visibility:hidden; }

/* –∫–Ω–æ–ø–∫–∞/–ª–µ–π–±–ª –¥—ñ—ó */
.row-col--act .add-btn{ width:100%; min-height:40px; justify-content:center; }

/* —Ç–µ–∫—Å—Ç–æ–≤–∞ –∑–∞–≥–ª—É—à–∫–∞ –∫–æ–ª–∏ —Ç–æ–≤–∞—Ä—É –Ω–µ–º–∞—î */
.na-label{
    display:inline-flex; align-items:center; justify-content:center;
    width:100%; min-height:40px; border-radius:12px;
    background:#f3f4f6; color:#6b7280; font-weight:800;
}

/* –ø–æ–∑–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—é ‚Äî —Ç—Ä–æ—Ö–∏ –ø—Ä–∏–≥–ª—É—à–µ–Ω–∏–π —Ä—è–¥ */
.row-card.is-out{ box-shadow:0 1px 2px rgba(0,0,0,.04); }

/* ---- Responsive: –ø–æ—Å—Ç—É–ø–æ–≤–æ –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –º–µ–Ω—à –≤–∞–∂–ª–∏–≤—ñ –∫–æ–ª–æ–Ω–∫–∏ ---- */
@media (max-width:1100px){
    .row-col--pricekg, .row-head .row-col--pricekg{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 120px 150px 100px 120px 160px; } /* ‚Äì ‚Ç¥/–∫–≥ */
}
@media (max-width:900px){
    .row-col--grams, .row-head .row-col--grams{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 120px 150px 120px 160px; }      /* ‚Äì –≥—Ä–∞–º */
}
@media (max-width:740px){
    .row-col--pricepc, .row-head .row-col--pricepc{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 150px 120px 160px; }           /* ‚Äì ‚Ç¥/—à—Ç */
}
@media (max-width:620px){
    .row-col--total, .row-head .row-col--total{ display:none; }
    .row-card{ grid-template-columns: 56px 1fr 150px 160px; }                 /* ‚Äì –°—É–º–∞ */
}

/* ---- Disabled states ---- */
.add-btn[disabled], .qty-btn:disabled{
    opacity:.55; cursor:not-allowed; filter:grayscale(0.1);
}
.qty-input:disabled{ opacity:.7; background:#f3f4f6; cursor:not-allowed; }

/* üëá –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞—Ä—ñ —Å—Ç–∏–ª—ñ ‚Äú–ù–∞—è–≤–Ω—ñ—Å—Ç—å‚Äù —è–∫—â–æ –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ:
   .row-col--avail {‚Ä¶} .avail-pill {‚Ä¶}
*/
